@model  HWAdmin.Models.GroupModelView

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layui.cshtml";
}

<div class="layui-fluid">
    <div class="layui-row layui-col-space10">
        <div class="layui-col-md8 pull-left">

        </div>
        <div class="layui-col-md4 pull-right">
            <div class="layui-btn-group">
                <button class="layui-btn layui-btn-sm">新增</button>
                <button class="layui-btn layui-btn-sm">编辑</button>
                <button class="layui-btn layui-btn-sm">删除</button>
            </div>
        </div>
    </div>
    <div class="layui-row">
        <table id="laytbl" lay-filter="tbl"></table>
    </div>
</div>

@section Script{
    <script type="text/javascript">
        layui.use(["table"], function () {
            var table = layui.table;
            //执行渲染
            table.render({
                "elem": '#laytbl', //指定原始表格元素选择器（推荐id选择器）
                "cols": [[
                    { "field": "Id", "title": "ID", "type": "checkbox", "sort": true, "align": "center" },
                    { "field": "Name", "title": "名称", "sort": true, "align": "center" },
                    { "field": "Discription", "title": "描述", "sort": true, "align": "center" }
                ]], //设置表头
                "url": "/GroupManage/GetList",
                "method": "post",
                "initSort": "Id",
                "page": true,
                "size": "sm",
                "height": 'full-10'
            });

            table.on('sort(tbl)', function (obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                //console.log(obj.field); //当前排序的字段名
                //console.log(obj.type); //当前排序类型：desc（降序）、asc（升序）、null（空对象，默认排序）
                //console.log(this); //当前排序的 th 对象
                //尽管我们的 table 自带排序功能，但并没有请求服务端。
                //有些时候，你可能需要根据当前排序的字段，重新向服务端发送请求，从而实现服务端排序，如：
                table.reload('demo', {
                    initSort: obj //记录初始排序，如果不设的话，将无法标记表头的排序状态。 layui 2.1.1 新增参数
                  , where: { //请求参数（注意：这里面的参数可任意定义，并非下面固定的格式）
                      "sort": obj.field //排序字段
                    , "order": obj.type //排序方式
                  }
                });
            });
        });
    </script>
}